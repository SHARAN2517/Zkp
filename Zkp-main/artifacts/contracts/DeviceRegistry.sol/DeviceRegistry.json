{
  "_format": "hh-sol-artifact-1",
  "contractName": "DeviceRegistry",
  "sourceName": "contracts/DeviceRegistry.sol",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "deviceId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "DeviceDeactivated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "deviceId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "firmwareHash",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "DeviceRegistered",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "deviceId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "newFirmwareHash",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "DeviceUpdated",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "admin",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "allDeviceIds",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "deviceId",
          "type": "bytes32"
        }
      ],
      "name": "deactivateDevice",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "devices",
      "outputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "deviceId",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "firmwareHash",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "secretHash",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "registrationTime",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isActive",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "offset",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "limit",
          "type": "uint256"
        }
      ],
      "name": "getAllDevices",
      "outputs": [
        {
          "internalType": "bytes32[]",
          "name": "",
          "type": "bytes32[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "deviceId",
          "type": "bytes32"
        }
      ],
      "name": "getDevice",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "owner",
              "type": "address"
            },
            {
              "internalType": "bytes32",
              "name": "deviceId",
              "type": "bytes32"
            },
            {
              "internalType": "bytes32",
              "name": "firmwareHash",
              "type": "bytes32"
            },
            {
              "internalType": "bytes32",
              "name": "secretHash",
              "type": "bytes32"
            },
            {
              "internalType": "uint256",
              "name": "registrationTime",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "isActive",
              "type": "bool"
            }
          ],
          "internalType": "struct DeviceRegistry.Device",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "getDevicesByOwner",
      "outputs": [
        {
          "internalType": "bytes32[]",
          "name": "",
          "type": "bytes32[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "deviceId",
          "type": "bytes32"
        }
      ],
      "name": "getSecretHash",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "deviceId",
          "type": "bytes32"
        }
      ],
      "name": "isDeviceActive",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "ownerDevices",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "deviceId",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "firmwareHash",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "secretHash",
          "type": "bytes32"
        }
      ],
      "name": "registerDevice",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "totalDevices",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "deviceId",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "newFirmwareHash",
          "type": "bytes32"
        }
      ],
      "name": "updateFirmware",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50600480546001600160a01b03191633179055610ddb806100326000396000f3fe608060405234801561001057600080fd5b50600436106100cf5760003560e01c80636a7f745e1161008c578063c5c400de11610066578063c5c400de146101fd578063e46b478614610286578063f3d4c0a814610299578063f851a440146102ac57600080fd5b80636a7f745e146101725780637900438b146101d7578063be54c8f0146101ea57600080fd5b80630766e845146100d4578063132316e2146100e957806351b0e987146100fc5780635be5fdbf146101255780635ec8fe6b146101385780636121898e1461015b575b600080fd5b6100e76100e2366004610be2565b6102d7565b005b6100e76100f7366004610bfb565b610455565b61010f61010a366004610c39565b6105f8565b60405161011c9190610c5b565b60405180910390f35b61010f610133366004610bfb565b610664565b61014b610146366004610be2565b61078a565b604051901515815260200161011c565b61016460035481565b60405190815260200161011c565b610185610180366004610be2565b6107c4565b60405161011c919081516001600160a01b031681526020808301519082015260408083015190820152606080830151908201526080808301519082015260a09182015115159181019190915260c00190565b6100e76101e5366004610c9f565b61088b565b6101646101f8366004610be2565b610aee565b61024d61020b366004610be2565b6000602081905290815260409020805460018201546002830154600384015460048501546005909501546001600160a01b039094169492939192909160ff1686565b604080516001600160a01b03909716875260208701959095529385019290925260608401526080830152151560a082015260c00161011c565b610164610294366004610ccb565b610b90565b6101646102a7366004610be2565b610bc1565b6004546102bf906001600160a01b031681565b6040516001600160a01b03909116815260200161011c565b60008181526020819052604090205481906001600160a01b03166103165760405162461bcd60e51b815260040161030d90610cf5565b60405180910390fd5b6000828152602081905260409020546001600160a01b031633148061034557506004546001600160a01b031633145b6103a35760405162461bcd60e51b815260206004820152602960248201527f4f6e6c7920646576696365206f776e6572206f722061646d696e2063616e206460448201526865616374697661746560b81b606482015260840161030d565b60008281526020819052604090206005015460ff166104045760405162461bcd60e51b815260206004820152601760248201527f44657669636520616c726561647920696e616374697665000000000000000000604482015260640161030d565b60008281526020818152604091829020600501805460ff19169055905142815283917f90eb5eea50b0730c8ab4282498308951eaebda25096ddf8037d2e1d1ee642228910160405180910390a25050565b60008281526020819052604090205482906001600160a01b031661048b5760405162461bcd60e51b815260040161030d90610cf5565b60008381526020819052604090205483906001600160a01b031633146105055760405162461bcd60e51b815260206004820152602960248201527f4f6e6c7920646576696365206f776e65722063616e20706572666f726d20746860448201526834b99030b1ba34b7b760b91b606482015260840161030d565b8261054a5760405162461bcd60e51b8152602060048201526015602482015274092dcecc2d8d2c840ccd2e4daeec2e4ca40d0c2e6d605b1b604482015260640161030d565b60008481526020819052604090206005015460ff166105a25760405162461bcd60e51b8152602060048201526014602482015273446576696365206973206e6f742061637469766560601b604482015260640161030d565b600084815260208181526040918290206002018590558151858152429181019190915285917f86377c36d62c943be0f5bb657ce2c384e5aedd0a25e097294807798fa3abadfb910160405180910390a250505050565b6001600160a01b03811660009081526001602090815260409182902080548351818402810184019094528084526060939283018282801561065857602002820191906000526020600020905b815481526020019060010190808311610644575b50505050509050919050565b60025460609083106106af5760405162461bcd60e51b81526020600482015260146024820152734f6666736574206f7574206f6620626f756e647360601b604482015260640161030d565b60006106bb8385610d3a565b6002549091508111156106cd57506002545b60006106d98583610d4d565b67ffffffffffffffff8111156106f1576106f1610d60565b60405190808252806020026020018201604052801561071a578160200160208202803683370190505b509050845b8281101561077f576002818154811061073a5761073a610d76565b90600052602060002001548287836107529190610d4d565b8151811061076257610762610d76565b60209081029190910101528061077781610d8c565b91505061071f565b509150505b92915050565b6000818152602081905260408120546001600160a01b03161580159061078457505060009081526020819052604090206005015460ff1690565b6040805160c08101825260008082526020808301829052828401829052606083018290526080830182905260a0830182905284825281905291909120546001600160a01b03166108265760405162461bcd60e51b815260040161030d90610cf5565b5060009081526020818152604091829020825160c08101845281546001600160a01b03168152600182015492810192909252600281015492820192909252600382015460608201526004820154608082015260059091015460ff16151560a082015290565b6000838152602081905260409020546001600160a01b0316156108f05760405162461bcd60e51b815260206004820152601960248201527f44657669636520616c7265616479207265676973746572656400000000000000604482015260640161030d565b826109315760405162461bcd60e51b8152602060048201526011602482015270125b9d985b1a590819195d9a58d9481251607a1b604482015260640161030d565b816109765760405162461bcd60e51b8152602060048201526015602482015274092dcecc2d8d2c840ccd2e4daeec2e4ca40d0c2e6d605b1b604482015260640161030d565b806109b95760405162461bcd60e51b8152602060048201526013602482015272092dcecc2d8d2c840e6cac6e4cae840d0c2e6d606b1b604482015260640161030d565b6040805160c081018252338082526020808301878152838501878152606085018781524260808701908152600160a0880181815260008d81528088528a81208a5181546001600160a01b0319166001600160a01b039091161781559651878401559451600280880191909155935160038088019190915592516004870155516005909501805460ff19169515159590951790945594825282845295812080548084018255908252928120909201889055845490810185559381527f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace90930186905580549192610aa783610d8c565b909155505060408051848152426020820152339186917fc25deca72c7159a414e8c44809b6b6f5fd1c83fb0c09cc47e9db015638a8d5e2910160405180910390a350505050565b6000818152602081905260408120546001600160a01b0316610b225760405162461bcd60e51b815260040161030d90610cf5565b60008281526020819052604090206005015460ff16610b7a5760405162461bcd60e51b8152602060048201526014602482015273446576696365206973206e6f742061637469766560601b604482015260640161030d565b5060009081526020819052604090206003015490565b60016020528160005260406000208181548110610bac57600080fd5b90600052602060002001600091509150505481565b60028181548110610bd157600080fd5b600091825260209091200154905081565b600060208284031215610bf457600080fd5b5035919050565b60008060408385031215610c0e57600080fd5b50508035926020909101359150565b80356001600160a01b0381168114610c3457600080fd5b919050565b600060208284031215610c4b57600080fd5b610c5482610c1d565b9392505050565b6020808252825182820181905260009190848201906040850190845b81811015610c9357835183529284019291840191600101610c77565b50909695505050505050565b600080600060608486031215610cb457600080fd5b505081359360208301359350604090920135919050565b60008060408385031215610cde57600080fd5b610ce783610c1d565b946020939093013593505050565b60208082526015908201527411195d9a58d948191bd95cc81b9bdd08195e1a5cdd605a1b604082015260600190565b634e487b7160e01b600052601160045260246000fd5b8082018082111561078457610784610d24565b8181038181111561078457610784610d24565b634e487b7160e01b600052604160045260246000fd5b634e487b7160e01b600052603260045260246000fd5b600060018201610d9e57610d9e610d24565b506001019056fea2646970667358221220952021d942e0b36d49a612c9ac909f12e10924cf2acff0dc5aa8e9cbfa8ea23564736f6c63430008130033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100cf5760003560e01c80636a7f745e1161008c578063c5c400de11610066578063c5c400de146101fd578063e46b478614610286578063f3d4c0a814610299578063f851a440146102ac57600080fd5b80636a7f745e146101725780637900438b146101d7578063be54c8f0146101ea57600080fd5b80630766e845146100d4578063132316e2146100e957806351b0e987146100fc5780635be5fdbf146101255780635ec8fe6b146101385780636121898e1461015b575b600080fd5b6100e76100e2366004610be2565b6102d7565b005b6100e76100f7366004610bfb565b610455565b61010f61010a366004610c39565b6105f8565b60405161011c9190610c5b565b60405180910390f35b61010f610133366004610bfb565b610664565b61014b610146366004610be2565b61078a565b604051901515815260200161011c565b61016460035481565b60405190815260200161011c565b610185610180366004610be2565b6107c4565b60405161011c919081516001600160a01b031681526020808301519082015260408083015190820152606080830151908201526080808301519082015260a09182015115159181019190915260c00190565b6100e76101e5366004610c9f565b61088b565b6101646101f8366004610be2565b610aee565b61024d61020b366004610be2565b6000602081905290815260409020805460018201546002830154600384015460048501546005909501546001600160a01b039094169492939192909160ff1686565b604080516001600160a01b03909716875260208701959095529385019290925260608401526080830152151560a082015260c00161011c565b610164610294366004610ccb565b610b90565b6101646102a7366004610be2565b610bc1565b6004546102bf906001600160a01b031681565b6040516001600160a01b03909116815260200161011c565b60008181526020819052604090205481906001600160a01b03166103165760405162461bcd60e51b815260040161030d90610cf5565b60405180910390fd5b6000828152602081905260409020546001600160a01b031633148061034557506004546001600160a01b031633145b6103a35760405162461bcd60e51b815260206004820152602960248201527f4f6e6c7920646576696365206f776e6572206f722061646d696e2063616e206460448201526865616374697661746560b81b606482015260840161030d565b60008281526020819052604090206005015460ff166104045760405162461bcd60e51b815260206004820152601760248201527f44657669636520616c726561647920696e616374697665000000000000000000604482015260640161030d565b60008281526020818152604091829020600501805460ff19169055905142815283917f90eb5eea50b0730c8ab4282498308951eaebda25096ddf8037d2e1d1ee642228910160405180910390a25050565b60008281526020819052604090205482906001600160a01b031661048b5760405162461bcd60e51b815260040161030d90610cf5565b60008381526020819052604090205483906001600160a01b031633146105055760405162461bcd60e51b815260206004820152602960248201527f4f6e6c7920646576696365206f776e65722063616e20706572666f726d20746860448201526834b99030b1ba34b7b760b91b606482015260840161030d565b8261054a5760405162461bcd60e51b8152602060048201526015602482015274092dcecc2d8d2c840ccd2e4daeec2e4ca40d0c2e6d605b1b604482015260640161030d565b60008481526020819052604090206005015460ff166105a25760405162461bcd60e51b8152602060048201526014602482015273446576696365206973206e6f742061637469766560601b604482015260640161030d565b600084815260208181526040918290206002018590558151858152429181019190915285917f86377c36d62c943be0f5bb657ce2c384e5aedd0a25e097294807798fa3abadfb910160405180910390a250505050565b6001600160a01b03811660009081526001602090815260409182902080548351818402810184019094528084526060939283018282801561065857602002820191906000526020600020905b815481526020019060010190808311610644575b50505050509050919050565b60025460609083106106af5760405162461bcd60e51b81526020600482015260146024820152734f6666736574206f7574206f6620626f756e647360601b604482015260640161030d565b60006106bb8385610d3a565b6002549091508111156106cd57506002545b60006106d98583610d4d565b67ffffffffffffffff8111156106f1576106f1610d60565b60405190808252806020026020018201604052801561071a578160200160208202803683370190505b509050845b8281101561077f576002818154811061073a5761073a610d76565b90600052602060002001548287836107529190610d4d565b8151811061076257610762610d76565b60209081029190910101528061077781610d8c565b91505061071f565b509150505b92915050565b6000818152602081905260408120546001600160a01b03161580159061078457505060009081526020819052604090206005015460ff1690565b6040805160c08101825260008082526020808301829052828401829052606083018290526080830182905260a0830182905284825281905291909120546001600160a01b03166108265760405162461bcd60e51b815260040161030d90610cf5565b5060009081526020818152604091829020825160c08101845281546001600160a01b03168152600182015492810192909252600281015492820192909252600382015460608201526004820154608082015260059091015460ff16151560a082015290565b6000838152602081905260409020546001600160a01b0316156108f05760405162461bcd60e51b815260206004820152601960248201527f44657669636520616c7265616479207265676973746572656400000000000000604482015260640161030d565b826109315760405162461bcd60e51b8152602060048201526011602482015270125b9d985b1a590819195d9a58d9481251607a1b604482015260640161030d565b816109765760405162461bcd60e51b8152602060048201526015602482015274092dcecc2d8d2c840ccd2e4daeec2e4ca40d0c2e6d605b1b604482015260640161030d565b806109b95760405162461bcd60e51b8152602060048201526013602482015272092dcecc2d8d2c840e6cac6e4cae840d0c2e6d606b1b604482015260640161030d565b6040805160c081018252338082526020808301878152838501878152606085018781524260808701908152600160a0880181815260008d81528088528a81208a5181546001600160a01b0319166001600160a01b039091161781559651878401559451600280880191909155935160038088019190915592516004870155516005909501805460ff19169515159590951790945594825282845295812080548084018255908252928120909201889055845490810185559381527f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace90930186905580549192610aa783610d8c565b909155505060408051848152426020820152339186917fc25deca72c7159a414e8c44809b6b6f5fd1c83fb0c09cc47e9db015638a8d5e2910160405180910390a350505050565b6000818152602081905260408120546001600160a01b0316610b225760405162461bcd60e51b815260040161030d90610cf5565b60008281526020819052604090206005015460ff16610b7a5760405162461bcd60e51b8152602060048201526014602482015273446576696365206973206e6f742061637469766560601b604482015260640161030d565b5060009081526020819052604090206003015490565b60016020528160005260406000208181548110610bac57600080fd5b90600052602060002001600091509150505481565b60028181548110610bd157600080fd5b600091825260209091200154905081565b600060208284031215610bf457600080fd5b5035919050565b60008060408385031215610c0e57600080fd5b50508035926020909101359150565b80356001600160a01b0381168114610c3457600080fd5b919050565b600060208284031215610c4b57600080fd5b610c5482610c1d565b9392505050565b6020808252825182820181905260009190848201906040850190845b81811015610c9357835183529284019291840191600101610c77565b50909695505050505050565b600080600060608486031215610cb457600080fd5b505081359360208301359350604090920135919050565b60008060408385031215610cde57600080fd5b610ce783610c1d565b946020939093013593505050565b60208082526015908201527411195d9a58d948191bd95cc81b9bdd08195e1a5cdd605a1b604082015260600190565b634e487b7160e01b600052601160045260246000fd5b8082018082111561078457610784610d24565b8181038181111561078457610784610d24565b634e487b7160e01b600052604160045260246000fd5b634e487b7160e01b600052603260045260246000fd5b600060018201610d9e57610d9e610d24565b506001019056fea2646970667358221220952021d942e0b36d49a612c9ac909f12e10924cf2acff0dc5aa8e9cbfa8ea23564736f6c63430008130033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
